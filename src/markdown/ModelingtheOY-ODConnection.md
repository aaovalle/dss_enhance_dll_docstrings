# Modeling the OY-OD Connection

&nbsp;

**Modeling the Open-Y/ Open-Delta Connection in OpenDSS**

&nbsp;

**Introduction**

&nbsp;

There are two basic configurations of this transformer connection in use around the world:

&nbsp;

&#49;. Where the secondary serves a 3‐phase, 3‐wire load only, such as an irrigation pump motor,

&#50;. Where one of the two 1‐phase transformers is center‐tapped to serve 1‐phase loads as well as 3-phase load. This is sometimes referred to as the 4‐wire delta configuration.

&nbsp;

It is a popular connection where it is necessary to save cost by eliminating one phase of a 3‐phase system or where only 2 of the 3 phases exist in the vicinity of the load being served. Common applications are:

&nbsp;

&#49;. Irrigation pump loads that operate only a few weeks of the year. It can be difficult to recover the investment in power supply from the revenue generated by the load. So capital expenditures must be minimized.

&#50;. Providing services to small commercial loads that are mostly 1‐phase loads but have a small amount of 3‐phase motor load. Examples include small bank branch buildings, church buildings, small machine shops, etc.

&#51;. When one phase of a 3‐phase Y‐D bank fails. One phase can often be removed, the floating-neutral point grounded and service can continue at reduced capacity (58%).

&nbsp;

**Drawbacks**

&nbsp;

The OY‐OD connection works acceptably in many applications, but can cause some problems under some conditions.

&nbsp;

The unbalanced configuration can lead to significantly unbalanced service voltages. When serving a 3‐ phase induction motor, this can cause increased heating due to the negative sequence currents. Variable-frequency drives (VFD) with diode front ends will sometimes get to the point where all the

power tries to come through one phase (line-to-line). This can lead to component failure in the drive or the inability to produce rated power.

&nbsp;

Another problem is that the current exiting the neutral on the OY side of the transformer bank can be nearly equal to the line current in the other two phases. The neutral wire on many power distribution systems often has a reduced cross‐section and, thus, reduced current carrying capacity because less current is expected. The neutral wire on systems where engineers have anticipated the OY‐OD connection is often sized at least equal to the phase conductor. By forcing more current into the neutral path, the losses for serving a particular load are higher.

&nbsp;

**The OpenDSS Transformer Model**

&nbsp;

The OpenDSS program uses a relatively straightforward nodal admittance (Y matrix) representation of electrical circuits. One requirement for this matrix to be inversible is that there must be an electrical current path from each node in the problem to the system voltage reference, which we usually call ground or earth. This is where the voltage is assumed to be zero by definition. The transformer presents a modeling challenge because it can be used to change the reference frame on either side. The windings are coupled by magnetic flux, but there is not a physical path for an electron on one side to pass directly to the other side unless a physical wired connection is made. This is illustrated in Figure 1.

&nbsp;

![Image](<lib/NewItem180.png>)

Simple 1-Phase, 2 Winding Transformer Model

&nbsp;

Figure 1. There is no explicit connection to ground on Winding 2.

&nbsp;

Winding 1 has one terminal connected to the voltage source, which is grounded. The other terminal is connected directly to ground. Thus, there are two paths for an electron on Winding 1 to get to ground. Winging 2 is depicted as floating with no connection to ground. In reality there is winding capacitance to ground, but this is usually not modeled in distribution system analysis programs. So unfortunately the Y matrix for this model is not inversible as shown. There will be at least one row and column of the matrix that sums to zero. In the example shown there are likely two: the rows associated with both nodes of Winding 2.

&nbsp;

The EMTP and other electromagnetic transients programs have the same problem. Some means must be provided in the model to reference the terminals of Winding 2 to ground. This is often done by explicitly grounding one terminal or connecting an impedance from one of the terminals to ground. You can also add a small capacitance to ground with the size dependent on the accuracy of the computer. The capacitance could be set to approximate values of a few nF if not too small for the simulation.

&nbsp;

We did not want to require the user to add an extra impedance to the transformer in OpenDSS because there can be so many transformer in a distribution system model. Also, we wanted to be able to model any connection of transformers without making special adaptations to the model. Along with the OY‐OD connection, the Zig‐Zag connection can have a floating node at the intersection of the two windings. Our approach to dealing with the floating winding problem is to add a tiny admittance to each conductor of the transformer (Figure 2). The other end of the admittance is connected to ground, the zero‐volt reference. Thus, there is always a conductive path to the voltage reference.

&nbsp;

There is no separate element defined for the anti‐float admittance. The effect is accomplished by slightly increasing the diagonal element of the transformer’s primitive Y matrix as it is being constructed. By default the program adds an admittance equal to 1 part per million (PPM) of the transformer’s kVA rating to each conductor. Hence, the name of the Transformer element property for setting this value: PPM\_Antifloat. If the transformer is rated 1000 kVA then each admittance will consume 1 var at rated voltage.

&nbsp;

An inductive susceptance generally works best but a negative value can also be specified for the PPM\_Antifloat property. This would nominally represent capacitance. A 1.0 nF capacitor would generate 2.7 millivar at 7200 V. To add enough capacitance to make an equivalent of 1 PPM might be unreasonable. Actual capacitances to ground are in the \[1..5\] nF range, typically. Nevertheless, some users have reported that they regularly use negative PPM\_Antifloat values to represent the stray capacitances of the transformer.

&nbsp;

![Image](<lib/NewItem181.png>)\
Figure 2. Adding an admittance to ground at each conductor to prevent floating winding.

&nbsp;

Adding inductive values for PPM\_Antifloat is not totally immune from circuit modeling problems. A case in point is the IEEE 4‐bus test case created for the OY‐OD connection. Bill Kersting added 2500 ft of line to the 4.16 kV side of the transformer (the OD side). The line’s capacitance (which OpenDSS always models unless you explicitly set it to zero) interacted with the anti‐float inductances to create some weird voltages. But the line capacitance also brings a benefit: Its presence provides a conductive path to ground and the anti‐float admittances are not needed. When the anti‐float admittances are not needed, simply set PPM\_Antifloat=0.

&nbsp;

Circuit conditions for which you can safely set PPM\_Antifloat=0 include:

&nbsp;

&#49;. When there is a LINE element connected to the floating transformer winding, as long as the line’s capacitance has not been set to zero.

&nbsp;

&#50;. When one of the transformer’s conductors on the floating side is connected to ground (some analysts routinely ground one corner of the delta winding if everything connected to it is in Delta – the solution is the same).

&nbsp;

&#51;. When one of the OD windings is center‐tapped and grounded and used to feed split‐phase loads. For example, the standard 120/240 V service transformer used in North American and elsewhere in countries that follow the US standards. Grounding the center tap provides a conductive path for the entire OD winding (or for a full delta winding as well).

&nbsp;

&#52;. When there is a significant grounded‐Y connected load, reactor, or capacitor connected to the floating delta winding. Note that an ungrounded‐Y connected load will not provide the connection to reference and will likely exacerbate convergence issues.

&nbsp;

&#53;. When modeling stray capacitances inside the transformer between windings when the other winding is connected to something that provides a conductive path to ground.

&nbsp;

**L‐N Voltages on the OD Side**

&nbsp;

By default, OpenDSS reports voltages from a node with respect to the zero voltage reference. Distribution circuits are generally modeled with neutral wires reduced out, which makes the neutrals at zero potential. So the voltages reported are called Line‐to‐Neutral in OpenDSS.

&nbsp;

Since the OY‐OD transformer is unbalanced and the anti‐float admittances are also unbalanced, there will be a neutral shift when the Line‐neutral voltages are reported. The Show Voltage LN Nodes command now reports both L‐N voltages and L‐L voltage. You will note that the L‐L voltages are much more balanced (see OpenDSS output report below). This is for a case where a 480‐V 3‐phase generator is being fed by an OY‐OD bank.

&nbsp;

LINE-GROUND and LINE-LINE VOLTAGES BY BUS \& NODE

Bus&nbsp; &nbsp; &nbsp; &nbsp; Node VLN (kV) Angle &nbsp; &nbsp; &nbsp; pu &nbsp; &nbsp; Base kV &nbsp; Node-Node VLL (kV) Angle &nbsp; &nbsp; &nbsp; pu

&nbsp;

SOURCE\_BUS 1&nbsp; &nbsp; 7.1996 /\_&nbsp; &nbsp; 0.0 &nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; 12.470 &nbsp; &nbsp; &nbsp; 1-2 &nbsp; &nbsp; 12.47 /\_ 30.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1

&nbsp;&nbsp; - &nbsp; &nbsp; &nbsp; 2&nbsp; &nbsp; 7.1996 /\_ -120.0 &nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; 12.470 &nbsp; &nbsp; &nbsp; 2-3 &nbsp; &nbsp; 12.47 /\_ -90.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1

&nbsp;&nbsp; - &nbsp; &nbsp; &nbsp; 3&nbsp; &nbsp; 7.1996 /\_&nbsp; 120.0 &nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; 12.470 &nbsp; &nbsp; &nbsp; 3-1 &nbsp; &nbsp; 12.47 /\_ 150.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1

TRANS\_BUS&nbsp; 1&nbsp; &nbsp; 7.1996 /\_&nbsp; &nbsp; 0.0 &nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; 12.470 &nbsp; &nbsp; &nbsp; 1-2 &nbsp; &nbsp; 12.47 /\_ 30.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1

&nbsp;&nbsp; - &nbsp; &nbsp; &nbsp; 2&nbsp; &nbsp; 7.1996 /\_ -120.0 &nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; 12.470

GEN\_BUS .. 1 &nbsp; 0.36009 /\_&nbsp; -24.0&nbsp; &nbsp; 1.2994 &nbsp; 0.480 &nbsp; &nbsp; &nbsp; 1-2&nbsp; &nbsp; 0.48315 /\_ 0.3&nbsp; &nbsp; &nbsp; 1.0066

&nbsp;&nbsp; - &nbsp; &nbsp; &nbsp; 2 &nbsp; 0.21444 /\_ -136.0 &nbsp; 0.77379 &nbsp; 0.480 &nbsp; &nbsp; &nbsp; 2-3&nbsp; &nbsp; 0.47973 /\_ -119.8&nbsp; 0.99943

&nbsp;&nbsp; - &nbsp; &nbsp; &nbsp; 3&nbsp; &nbsp; 0.2802 /\_ &nbsp; 72.5&nbsp; &nbsp; 1.0111 &nbsp; 0.480 &nbsp; &nbsp; &nbsp; 3-1&nbsp; &nbsp; 0.48063 /\_ 120.6&nbsp; &nbsp; 1.0013

&nbsp;

One side effect of this neutral shift is the reporting of power flows into individual conductors on the delta side may look weird. See the OpenDSS power report for the generator in the table below. It is producing a balanced 10 +j1 kVA, but doesn’t appear to be while looking at the individual phase powers

computed by the L‐N voltages and the line currents. The strange powers are due to the voltages being LN and the currents being nominally 30 degrees out of phase with L‐N voltages even for a near‐unity power factor load.

&nbsp;

Power Conversion Elements

&nbsp;

Bus&nbsp; &nbsp; &nbsp; &nbsp; Phase&nbsp; &nbsp; &nbsp; &nbsp; kW +j kvar &nbsp; &nbsp; kVA&nbsp; &nbsp; &nbsp; &nbsp; PF

ELEMENT = "Generator.GEN"

GEN\_BUS &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; ‐4.3 +j ‐0.8&nbsp; &nbsp; &nbsp; 4.4&nbsp; &nbsp; &nbsp; 0.9811

GEN\_BUS &nbsp; &nbsp; &nbsp; 2 &nbsp; &nbsp; ‐2.5 +j ‐0.9&nbsp; &nbsp; &nbsp; 2.6&nbsp; &nbsp; &nbsp; 0.9420

GEN\_BUS &nbsp; &nbsp; &nbsp; 3 &nbsp; &nbsp; ‐3.3 +j 0.7 &nbsp; &nbsp; &nbsp; 3.4 &nbsp; &nbsp; -0.9773

&nbsp;TERMINAL TOTAL .. ‐10.0 +j&nbsp; &nbsp; &nbsp; -1.0 &nbsp; &nbsp; 10.1 0.9950

&nbsp;

So it looks like you have a significant amount of vars circulating in the system. However, the total of all conductors of the generator’s 3‐phase terminal is correct. This is nothing more than the manifestation of the Blondel theorem (see a description of the Two Wattmeter method for measuring power in a 3‐phase system). And this occurs in real life. If you put a power meter on one phase of a 3‐phase delta system using ground/neutral for the voltage, you will generally get some strange results unless the power meter has a special mode for accounting for the phase shift.

&nbsp;

The currents into the Generator (Figure 3) show that they are well‐balanced, although not perfectly.

&nbsp;

![Image](<lib/NewItem182.png>)

Figure 3. Generator currents for this case

&nbsp;

The OpenDSS script for producing this result is:

&nbsp;

// Study: Open Y - Open Delta Transformer

&nbsp;

clear

&nbsp;

New circuit.SOURCE bus1=Source\_bus.1.2.3.0

\~ BasekV=12.47 pu=1 angle=0

\~ mvasc3=200000 mvasc1=200000

&nbsp;

New line.Line\_phaseA phases=1 bus1=Source\_bus.1 bus2=Trans\_bus.1 switch=yes

New line.Line\_phaseB phases=1 bus1=Source\_bus.2 bus2=Trans\_bus.2 switch=yes

&nbsp;

New Transformer.phase\_A Phases=1 Windings=2 Xhl=1.4

\~ wdg=1 bus=Trans\_bus.1.0 conn=Wye kv= 7.20 kva=10

\~ wdg=2 bus=Gen\_bus.1.2 conn=Delta kv= 0.48 kva=10

&nbsp;

New Transformer.phase\_B Phases=1 Windings=2 Xhl=1.4

\~ wdg=1 bus=Trans\_bus.2.0 conn=Wye kv= 7.20 kva=25

\~ wdg=2 bus=Gen\_bus.2.3 conn=Delta kv= 0.48 kva=25

&nbsp;

New generator.Gen bus=Gen\_bus kv=0.48 kw=10 kvar=1 model=7 conn=delta H=100

&nbsp;

new monitor.voltage\_generator generator.Gen 1 mode=0 ppolar=no

new monitor.voltage\_generator32 generator.Gen 1 mode=16

&nbsp;

set voltagebases = \[12.47, 0.48\]

calcv

&nbsp;

set mode=direct

solve

&nbsp;

&nbsp;

&nbsp;


***
_Created with the Standard Edition of HelpNDoc: [Transform Your Documentation Workflow with HelpNDoc's Intuitive UI](<https://www.helpndoc.com/feature-tour/stunning-user-interface/>)_
